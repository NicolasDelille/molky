(this.webpackJsonpmolkky=this.webpackJsonpmolkky||[]).push([[0],{10:function(e,t,n){e.exports={title:"PlayerSelection_title__2kFIH",playerList:"PlayerSelection_playerList__2Zzjj",playerListItem:"PlayerSelection_playerListItem__pk678",selected:"PlayerSelection_selected__39Ie4",playerListItemButton:"PlayerSelection_playerListItemButton__19QLZ"}},14:function(e,t,n){e.exports={Board:"Board_Board__2Vm6-",Buttons:"Board_Buttons__29Nyt",Row:"Board_Row__3xdzD",Action:"Board_Action__-eJqV"}},16:function(e,t,n){e.exports={Button:"Button_Button__3R1xi",selected:"Button_selected__1LYm5"}},20:function(e,t,n){e.exports={WinnerPage:"WinnerBanner_WinnerPage__ZHNK6",WinnerBanner:"WinnerBanner_WinnerBanner__1Ll-z"}},23:function(e,t,n){e.exports={App:"App_App__16ZpL"}},24:function(e,t,n){e.exports={Table:"Score_Table__3uOIQ"}},27:function(e,t,n){e.exports={Header:"Header_Header__2C_Ub"}},28:function(e,t,n){e.exports={Players:"AddPlayer_Players__2iM-P"}},33:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(22),l=n.n(r),o=(n(33),n(8)),s=n(4),i=n(23),u=n.n(i),j=n(13),d=n(2),b=n(16),O=n.n(b),f=n(0),m=function(e){var t=e.selected,n=e.value,c=e.onClick;return Object(f.jsx)("button",{onClick:c,type:"button",className:t?"".concat(O.a.Button," ").concat(O.a.selected):O.a.Button,children:n})},p=n(24),x=n.n(p),h=function(e){var t=e.scoreBoard;return Object(f.jsxs)("table",{className:x.a.Table,children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Name"}),Object(f.jsx)("th",{children:"Score"})]})}),Object(f.jsx)("tbody",{children:t.map((function(e){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:e.name}),Object(f.jsx)("td",{children:e.score})]},e.name)}))})]})},v=n(20),_=n.n(v),y=function(e){var t=e.winner,n=e.onNewGame,c=Object(d.f)();return Object(f.jsx)("div",{className:_.a.WinnerPage,children:Object(f.jsxs)("div",{className:_.a.WinnerBanner,children:[Object(f.jsxs)("p",{children:[t," a gagn\xe9!"]}),Object(f.jsx)("button",{onClick:function(){c.push("/")},children:"Menu Principal"}),Object(f.jsx)("button",{onClick:function(){n()},children:"Nouvelle Partie"})]})})},g=n(14),B=n.n(g),S=[[{value:7},{value:9},{value:8}],[{value:5},{value:11},{value:12},{value:6}],[{value:3},{value:10},{value:4}],[{value:1},{value:2}]],N=function(e){var t=e.onPlay,n=e.winner,a=e.scoreBoard,r=e.onNewGame,l=Object(c.useState)(),o=Object(s.a)(l,2),i=o[0],u=o[1];return Object(f.jsxs)("div",{className:B.a.Board,children:[Object(f.jsxs)("div",{className:B.a.Buttons,children:[S.map((function(e,t){return Object(f.jsx)("div",{className:B.a.Row,children:e.map((function(e){return Object(f.jsx)(m,{value:e.value,onClick:function(){return t=e.value,void u((function(e){return e===t?null:t}));var t},selected:i===e.value},e.value)}))},t)})),n&&Object(f.jsx)(y,{winner:n,onNewGame:r})]}),Object(f.jsx)(h,{scoreBoard:a}),Object(f.jsxs)("div",{className:B.a.Action,children:[Object(f.jsx)("button",{onClick:function(){t(i),u()},disabled:!0,children:"Annuler"}),Object(f.jsx)("button",{onClick:function(){t(i),u()},disabled:n,children:"Valider"})]})]})},P=n(27),k=n.n(P),I=function(e){var t=e.currentPlayer;return Object(f.jsx)("div",{className:k.a.Header,children:t})},C=function(e){var t=e.players,n=Object(d.f)();Object(c.useEffect)((function(){0!==t.length?u(t[0].name):n.push("/")}),[t,n]);var a=t.map((function(e){return{name:e.name,score:0}})),r=Object(c.useState)(),l=Object(s.a)(r,2),i=l[0],u=l[1],b=Object(c.useState)([]),O=Object(s.a)(b,2),m=O[0],p=O[1],x=Object(c.useState)(null),h=Object(s.a)(x,2),v=h[0],_=h[1],y=Object(c.useState)(a),g=Object(s.a)(y,2),B=g[0],S=g[1];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(I,{currentPlayer:i}),Object(f.jsx)(N,{onPlay:function(e){var n=e,c=!1;void 0===e&&(n=0),p([].concat(Object(j.a)(m),[{player:i,score:n}]));var a=B.map((function(e){return i===e.name?(e.score+n>=50&&(_(i),c=!0,console.log("GameOver: ".concat(c))),Object(o.a)(Object(o.a)({},e),{},{score:e.score+n})):e}));if(S(a),!c){var r=(t.findIndex((function(e){return e.name===i}))+1)%t.length;u(t[r].name)}},winner:v,scoreBoard:B,onNewGame:function(){S(a),_(null)}})]})},L=n(28),w=n.n(L),A=function(e){var t=e.addPlayer,n=Object(c.useState)(""),a=Object(s.a)(n,2),r=a[0],l=a[1];return Object(f.jsx)("div",{className:w.a.AddPlayer,children:Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({name:r,selected:!1})},children:[Object(f.jsx)("input",{placeholder:"Nom",onChange:function(e){l(e.target.value)},value:r}),Object(f.jsx)("button",{type:"submit",children:"Ajouter"})]})})},W=n(10),J=n.n(W),F=function(e){var t=e.addPlayers,n=Object(d.f)(),a=Object(c.useState)([]),r=Object(s.a)(a,2),l=r[0],i=r[1],u=Object(c.useState)(!1),b=Object(s.a)(u,2),O=b[0],m=b[1];Object(c.useEffect)((function(){if(localStorage.getItem("players")){var e=JSON.parse(localStorage.getItem("players"));i(e)}}),[]);return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{className:J.a.title,children:"S\xe9lectionnez les joueurs"}),l.length>0&&Object(f.jsx)("ul",{className:J.a.playerList,children:l.map((function(e,t){return Object(f.jsxs)("li",{className:"".concat(J.a.playerListItem," ").concat(e.selected?J.a.selected:""),onClick:function(t){return function(e,t){e.stopPropagation();var n=l.map((function(e){return e.name===t?Object(o.a)(Object(o.a)({},e),{},{selected:!e.selected}):e}));i(n),localStorage.setItem("players",JSON.stringify(n))}(t,e.name)},children:[e.name,Object(f.jsx)("button",{type:"button",className:J.a.playerListItemButton,onClick:function(t){return function(e,t){e.stopPropagation();var n=l.filter((function(e){return e.name!==t}));i(n),localStorage.setItem("players",JSON.stringify(n))}(t,e.name)},children:"x"})]},t)}))}),O?Object(f.jsx)(A,{addPlayer:function(e){i((function(t){return[].concat(Object(j.a)(t),[e])})),localStorage.setItem("players",JSON.stringify([].concat(Object(j.a)(l),[e]))),m(!1)}}):Object(f.jsx)("button",{onClick:function(){return m(!0)},children:"Ajouter un joueur"}),l.length>1&&Object(f.jsx)("button",{onClick:function(){t(l.filter((function(e){return e.selected}))),n.push("/game")},children:"D\xe9marrer la partie"})]})},H=n(19);var G=function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],a=t[1],r=function(e){a(e)};return Object(f.jsx)("div",{className:u.a.App,children:Object(f.jsx)(H.a,{children:Object(f.jsxs)(d.c,{children:[Object(f.jsx)(d.a,{path:"/game",render:function(e){return Object(f.jsx)(C,{players:n})}}),Object(f.jsx)(d.a,{path:"/",render:function(e){return Object(f.jsx)(F,Object(o.a)(Object(o.a)({},e),{},{addPlayers:r}))}})]})})})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,l=t.getTTFB;n(e),c(e),a(e),r(e),l(e)}))};l.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(G,{})}),document.getElementById("root")),T()}},[[43,1,2]]]);
//# sourceMappingURL=main.651ab371.chunk.js.map